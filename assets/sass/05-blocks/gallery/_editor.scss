.wp-block-gallery {

	figcaption {
		margin-bottom: 0;
	}

	// Block Styles
	&.is-style-twentytwentyone-overlapping-gallery {

		.blocks-gallery-grid {
			display: grid;
			grid-auto-rows: max-content;
			grid-auto-flow: column;
			grid-row-gap: var(--global--spacing-vertical);
			grid-column-gap: 20%;
			grid-template-columns: repeat(2, 1fr);
		}
		
		.blocks-gallery-item {
			margin: 0;
			width: 100%;
			justify-self: start;
			grid-column-start: 1;
			grid-column-end: 1;

			figure {
				align-items: flex-start;
			}

			// Hide the caption because of overlap. Not ideal, but it works.
			figcaption {
				display: none;
			}

			&:first-child() {
				margin-bottom: 50%;
			}

			&:nth-child(4n+2) {
				grid-column-start: 2;
				grid-column-end: 2;
				
				&:nth-child(2) {
					margin-top: 50%;
				}
			}

			&:nth-child(4n+3) {
				grid-column-end: span 2;
				max-width: 66.66%;
				transform: translateY(-25%); 
			}

			&:nth-child(4n+4) {
				margin-top: -25%;
				grid-column-start: 2;
				grid-column-end: 2;

				&:not(:last-of-type) {
					margin-bottom: 100%;
				}
			}

			&:nth-child(4n+5) {
				margin-top: 100%;
			}
		}
	}
}
